## このツールについて

- [https://kame-bazooka.github.io/shisaval_tools/](https://kame-bazooka.github.io/shisaval_tools/)
- シーサーバル道場を円滑にすすめるための支援機能を提供するツールです。
    - うまく使えば、課金力と運の不足を底上げして、ツリーハウスの中を掛け軸とラッキーさんだらけにする助けになるかもしれません。
- 最新のChrome系ブラウザで使ってください。
    - スマホ向けには作ってないのでPCで使ってください。
    - Firefoxでも動くのは一度見てますが、テストはやってません。IE対応は途中でめんどくさくなってやめました。

## 機能

- 出てきたオーダーフラッグを入力していくことで、残りのオーダーフラッグを可視化できます。
    - 残りのオーダーフラッグから、次ターンにどういうフラッグが出るかの予測をある程度立てることができます。
    - ちなみに「Action! 20」とか「Try!! 30」みたいな数字のところは意図的にオミットしています。実際道場やってる中でそこまで意識したことがないのと、そのへん意識すると操作がかったるいので。
        - 入力を1回でも忘れたりミスると、以降のターンはまともな情報を返さなくなるので気をつけてください。
- 曜日ごとに攻略メモを書き残すことができます。
    - オーダーフラッグのところがどうでもいいなら、メモだけ書いて適当にターンを飛ばせばメモだけ読めます。
- カウンタがあります。ぶっちゃけただの数値入力欄ですが、お供がいるパターンの場合の強敵を殴った数など、何かしらカウントしたいものがあれば自由にカウントできます。

## 入力した情報はどこに保存されるのか

- まず、このツールは100%クライアントで動作しているので、サーバというものはありません。書いたメモなどは、全部ブラウザ側のローカルストレージに書き込まれます。
- PCで書いたメモをスマホで開いても見えませし、メモはブラウザのローカルストレージを消したら全部消えます（同期機能みたいなのがあるブラウザを使っていれば、もしかしたら同期されるかも）

## このツールのオーダーフラッグの扱い方

基本的に[こちら](https://seesaawiki.jp/kemono_friends3_5ch/d/TIPS#content_1)で書かれていることをやっているつもりですが、一応このツールが想定する仕様をまとめておくと以下の通りです。

### 基本

- フラッグは最初にフレンズ全員が持つ札を1つに集めて、それを山札とします。
- ターン開始時のフラッグは山札から配布されます。フラッグを選択した後に新たに出てくる札も、また山札から選ばれます。おかわりした場合はその分多く山札から引きます。
    - たいきスキルによる追撃分は山札からフラッグを引かないので、ツールの操作としては何もする必要がありません。
    - 全員状態異常でターンが飛ばされた場合もフラッグは2枚めくったことになるそうですが、その場合このツールに正確な入力をすることは難しいので、諦める必要があります。
    - ロストフラッグがある日についても、入力が不可能というわけではないですが面倒すぎるので、このツールの利用は諦めてください。

### 墓地

- ターン終了時には、ターン開始時に配った札と、選択後に出てきた札の全てが墓地送りになります。
    - ターン終了までに墓地に新たな札が行くのはオーダーチェンジをしたときだけです。
- オーダーチェンジで札を捨てると、捨てた札は即座に墓地送りになります。
    - オーダーチェンジは「フラッグを捨てる→フラッグをめくる」の順です。

### 山札の再生成

1. 何かしら札を引こうとした時に山札が空だった場合、新たな山札として現在の墓地にある札を集め、新たな山札とします。
    - オダチェンしなければターン途中で墓地に札が行くことがないので、基本的に前ターン終了時の墓地で山札が再生成されることになります。
2. ただしターン開始時に、パーティー人数+3枚以下しかフラッグがない(5人パーティーなら8枚以下)場合、その時点での墓地にある札を集め、新たなる山札として確定させ、山札が空になったときの新山札として使います。
    - この1と2の違いが何に効いて来るかというと、以下2つのパターンで効いてきます。
        1. オーダーチェンジの途中で山札を使い切った場合。以下5人パーティー前提で
            - もともと9枚以上の札が山札にあって途中で山札を使い切った場合、その時点での墓地で再生成されるので、オーダーチェンジで捨てた札も新山札に**含まれます**。
            - もともと8枚以下の札しか山札にない時に途中で山札を使い切った場合、既に山札は確定しているので、オーダーチェンジで捨てた札は新山札に**含まれません**。
        2. ターン終了時点で山札が丁度0枚になっていた場合。この場合、手札の墓地送りが終わった後に、そのターン内で山札再生成が走ります。
            - おかわりやオダチェン無しでこうなる時は、必然的にターン開始時に5人パーティーで8枚以下の札しかないので、ターン開始時の山札には墓地に送った手札が**含まれません**。
            - 2回以上のおかわりやオダチェンをした上でこうなった場合、手札の墓地送り後に山札再生成をするため、新山札には手札が**含まれます**。
    - なお、ターン開始時に山札を確定させたとしても、オーダーチェンジの途中などでそれを使ってしまった場合、それ以降に再び山札再生成が起きた時には、再度その時点の墓地で山札を作ります。

## 免責

- このツールは、メインストーリーシーズン1の7章9話のバトル3にて、イメージ通りの動きをしていることをテストしていますが、100%正しく動く保証も将来的にも同じ動きをする保証もありません。
    - このツールがバグってハイスコアの好機を逃しても作者は責任取りませんので、よろしくおねがいします。

## サンクス

上に書いてあるとおり、このツールのフラッグ周りの動作は「[アプリ版けものフレンズ３wikiなのだ！](https://seesaawiki.jp/kemono_friends3_5ch/)」でまとめられている情報をベースに成り立っています。

## ソースコードの場所

ライセンスはMITです

[https://github.com/kame-bazooka/shisaval_tools](https://github.com/kame-bazooka/shisaval_tools)

## 作者情報

カメバズーカ(118217939)